@model novelaweb2.Models.Usuario

@{
    ViewData["Title"] = "Detalles del usuario";
}

<div class="admin-page">
    <div class="admin-header">
        <div>
            <h1 class="admin-title">Detalles del usuario</h1>
            <p class="admin-subtitle">Consulta los datos del perfil y sus permisos.</p>
        </div>
        <div class="admin-actions">
            <a class="btn btn-outline-light" asp-action="Index"><i class="fa-solid fa-arrow-left me-2"></i>Volver</a>
            <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model?.Id"><i class="fa-solid fa-pen-to-square me-2"></i>Editar</a>
        </div>
    </div>

    <div class="admin-card">
        <div class="row g-4">
            <div class="col-md-4 text-center">
                <div class="ratio ratio-1x1 mb-3" style="max-width: 180px; margin: 0 auto;">
                    @if (!string.IsNullOrWhiteSpace(Model?.AvatarUrl))
                    {
                        <img src="@Model.AvatarUrl" class="img-fluid rounded-circle object-fit-cover" alt="Avatar de @Model?.NombreUsuario" />
                    }
                    else
                    {
                        <div class="avatar-fallback rounded-circle d-flex align-items-center justify-content-center w-100 h-100">
                            <i class="fa-solid fa-user fa-2xl text-muted"></i>
                        </div>
                    }
                </div>
                <span class="badge bg-secondary">@Model?.Rol?.Nombre</span>
            </div>
            <div class="col-md-8">
                <dl class="row mb-0">
                    <dt class="col-sm-4 text-uppercase text-muted">Usuario</dt>
                    <dd class="col-sm-8 text-white">@Model?.NombreUsuario</dd>

                    <dt class="col-sm-4 text-uppercase text-muted">Correo</dt>
                    <dd class="col-sm-8">@Model?.Correo</dd>

                    <dt class="col-sm-4 text-uppercase text-muted">Contraseña</dt>
                    <dd class="col-sm-8 text-muted">••••••••</dd>

                    <dt class="col-sm-4 text-uppercase text-muted">Registro</dt>
                    <dd class="col-sm-8">@Model?.FechaRegistro.ToString("dd/MM/yyyy HH:mm")</dd>

                    @if (!string.IsNullOrWhiteSpace(Model?.Bio))
                    {
                        <dt class="col-sm-4 text-uppercase text-muted">Biografía</dt>
                        <dd class="col-sm-8">@Model?.Bio</dd>
                    }

                    @if (!string.IsNullOrWhiteSpace(Model?.AvatarUrl))
                    {
                        <dt class="col-sm-4 text-uppercase text-muted">Avatar</dt>
                        <dd class="col-sm-8"><a href="@Model?.AvatarUrl" target="_blank" class="text-decoration-underline">@Model?.AvatarUrl</a></dd>
                    }
                </dl>
            </div>
        </div>
    </div>
</div>
